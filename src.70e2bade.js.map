{"version":3,"sources":["js/app.js","js/refs.js","js/gallery.js","index.js"],"names":["preview","original","description","galleryOfImages","document","querySelector","modal","closeButton","modalImage","overlay","refs","imagesMarkup","createGalleryItems","galleryItems","map","join","onGalleryOfImagesClick","evt","preventDefault","target","nodeName","showElement","setImageAttr","dataset","source","alt","window","addEventListener","closeModalByKey","scrollingPictures","element","classList","add","hideElement","remove","removeEventListener","closeModalByButton","src","setAttribute","closeModalByClick","contains","code","currentIndex","findIndex","image","nextIndex","previousIndex","length","insertAdjacentHTML"],"mappings":"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","file":"src.70e2bade.js","sourceRoot":"../src","sourcesContent":["export default  [\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n    },\n    { \n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n    },\n  ];","export default {\n    galleryOfImages: document.querySelector('ul.js-gallery'),\n    modal: document.querySelector(\"div.js-lightbox\"),\n    closeButton: document.querySelector('button[data-action =\"close-lightbox\"]'),\n    modalImage: document.querySelector('img.lightbox__image'),\n    overlay: document.querySelector('div.lightbox__overlay')\n  }","import galleryItems from \"./app\"\nimport refs from \"./refs\"\n\n\n  const { galleryOfImages, modal, closeButton, modalImage, overlay } = refs;\n  const imagesMarkup = createGalleryItems(galleryItems)\n  \n  galleryOfImages.insertAdjacentHTML('afterbegin', imagesMarkup)\n  galleryOfImages.addEventListener('click', onGalleryOfImagesClick)\n  closeButton.addEventListener('click', closeModalByButton)\n  overlay.addEventListener('click', closeModalByClick )\n  \n  function createGalleryItems(galleryItems) {\n    return galleryItems.map(({ preview, original, description }) => {\n      return `\n      <li class=\"gallery__item\">\n    <a\n      class=\"gallery__link\"\n      href=\"${original}\"\n    >\n      <img\n        class=\"gallery__image\"\n        src=\"${preview}\"\n        data-source=\"${original}\"\n        alt=\"${description}\"\n      />\n    </a>\n  </li>\n      `\n    }).join('') \n  }\n  \n  \n  function onGalleryOfImagesClick(evt) {\n    evt.preventDefault();\n    \n    if (evt.target.nodeName !== \"IMG\") {\n      return;\n    }\n  \n    showElement(modal)\n    setImageAttr(evt.target.dataset.source, evt.target.alt)\n    window.addEventListener('keydown', closeModalByKey)\n    window.addEventListener('keydown', scrollingPictures)\n  }\n  \n  function showElement(element) {\n    element.classList.add('is-open')\n  }\n  \n  function hideElement(element) {\n    element.classList.remove('is-open');\n    setImageAttr(\" \", \"\");\n    window.removeEventListener('keydown', closeModalByKey);\n    window.removeEventListener('keydown', scrollingPictures)\n  }\n  \n  function closeModalByButton() {\n    hideElement(modal)\n     \n  }\n  \n  function setImageAttr(src, alt) {\n    modalImage.setAttribute('src', src);\n    modalImage.setAttribute('alt', alt)\n    \n  }\n  \n  function closeModalByClick(evt){\n    if(evt.target.classList.contains('lightbox__overlay')){\n      hideElement(modal)\n    }\n  }\n  \n  \n  function closeModalByKey(evt) {\n  if(evt.code === 'Escape'){\n      hideElement(modal)\n    }\n  }\n  \n  function scrollingPictures(evt){\n  \n  let currentIndex = galleryItems.findIndex((image) => image.original === modalImage.src)\n  // console.log(currentIndex);\n  let nextIndex = currentIndex + 1;\n  let previousIndex = currentIndex - 1;\n  \n  if(evt.code === \"ArrowRight\"){\n    if(nextIndex >= galleryItems.length){\n      nextIndex = 0;\n    }\n  modalImage.src = galleryItems[nextIndex].original;\n  }\n  \n  if(evt.code === \"ArrowLeft\"){\n    if(previousIndex < 0){\n      previousIndex = galleryItems.length - 1;\n    }\n    modalImage.src = galleryItems[previousIndex].original;\n   }\n  }\n  ","import \"./sass/main.scss\"\nimport \"./js/gallery.js\""]}